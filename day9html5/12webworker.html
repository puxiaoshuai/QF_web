<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>当在 HTML 页面中执行脚本时，页面的状态是不可响应的，直到脚本已完成。
        web worker 是运行在后台的 JavaScript，独立于其他脚本，不会影响页面的性能。</p>
      <span id="result">计数:0</span>  
      <button onclick="startWorker()">开始</button>
      <button onclick="stop1()">结束</button>
      <script>
          var w;
          function startWorker(){
              if(typeof(Worker)!=="undefined"){
                  if(typeof(w)=='undefined'){
                      w=new Worker("demo_works.js")
                  }
                //   消息监听
                  w.onmessage=function (e){
                      //接收到数据
                      let s=document.getElementById("result")
                      s.innerHTML=e.data
                  }
              }
          }
          function  stop1() {
              w.terminate()
            }
      </script>
</body>
</html>